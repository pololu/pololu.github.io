<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Motoron Motor Controller library for Raspberry Pi: Motoron Motor Controller Python library for Raspberry Pi</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Motoron Motor Controller library for Raspberry Pi
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Motoron Motor Controller Python library for Raspberry Pi </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://www.pololu.com/">www.pololu.com</a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Summary</h1>
<p >This is a Python 3 library that helps interface with <a href="https://pololu.com/motoron">Motoron motor controllers</a> using I&sup2;C or UART serial.</p>
<p >It supports the following Motoron controllers:</p>
<ul>
<li><a href="https://www.pololu.com/product/5065">Motoron M2T256 Dual I&sup2;C Motor Controller</a></li>
<li><a href="https://www.pololu.com/product/5067">Motoron M2U256 Dual Serial Motor Controller</a></li>
<li><a href="https://www.pololu.com/category/290">Motoron M3S256 Triple Motor Controller Shield for Arduino</a></li>
<li><a href="https://www.pololu.com/category/292">Motoron M3H256 Triple Motor Controller for Raspberry Pi</a></li>
<li><a href="https://www.pololu.com/category/291">Motoron M2S Dual High-Power Motor Controllers for Arduino</a> (M2S18v20, M2S18v18, M2S24v16, M2S24v14)</li>
<li><a href="https://www.pololu.com/category/293">Motoron M2H Dual High-Power Motor Controllers for Raspberry Pi</a> (M2H18v20, M2H18v18, M2H24v16, M2H24v14)</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Supported platforms</h1>
<p >This library is designed to run on a Raspberry Pi and also works on other systems as long as they have Python 3 and either the <a href="https://github.com/kplindegaard/smbus2">smbus2</a> library (for I&sup2;C) or the <a href="https://github.com/pyserial/pyserial/">pySerial</a> library (for UART serial). The smbus2 library generally only works on single-board Linux machines with an I&sup;C bus. The pySerial library works on a wide variety of platforms.</p>
<p >This library does <b>not</b> support Python 2.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Getting started</h1>
<p >This library depends on Python 3 and the easiest way to download the library is to use git.</p>
<p >To install these programs on Raspberry Pi OS, run: </p><pre class="fragment">sudo apt-get install git python3-dev python3-pip
</pre><p> To install these programs on <a href="https://www.msys2.org/">MSYS2</a>, run: </p><pre class="fragment">pacman -S git $MINGW_PACKAGE_PREFIX-python3
</pre><p> To download and install the library, run: </p><pre class="fragment">git clone https://github.com/pololu/motoron-rpi.git
cd motoron-rpi
sudo python3 setup.py install
</pre><p> (Omit the <code>sudo</code> if you are using MSYS2.)</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Getting started with I²C</h2>
<p >If you want to use I&sup2;C, you will need to install [smbus2]: </p><pre class="fragment">sudo pip3 install smbus2
</pre><p> You will also need to enable I&sup2;C, figure out which I&sup2;C bus to use, set up the I&sup2;C device permissions properly (so you do not have to use <code>sudo</code>), and connect the Motoron to your Raspberry Pi's I&sup2;C bus. If you are not sure how to do those things, see the "Getting started" sections of the <a href="https://www.pololu.com/docs/0J84">Motoron user's guide</a>.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Getting started with serial</h2>
<p >If you want to use UART serial, you will need to install <a href="https://github.com/pyserial/pyserial/">pySerial</a>. You can typically install this with the following command: </p><pre class="fragment">sudo pip3 install pyserial
</pre><p> On MSYS2, the command above probably will not work, but you can install the pySerial package provided by MSYS2 instead: </p><pre class="fragment">pacman -S $MINGW_PACKAGE_PREFIX-python-pyserial
</pre><p> You will need to make sure that your machine has a serial port that pySerial can connect to. This is typically an integrated serial port that is part of your computer or a USB-to-serial adapter.</p>
<p >On the Raspberry Pi, we recommend using <code>/dev/serial0</code>. You can check if it exists by running <code>ls -l /dev/serial*</code>. If it does not exist, you should enable it by running <code>sudo raspi-config nonint do_serial 2</code> and rebooting. You should also add yourself to the <code>dialout</code> group by running <code>sudo usermod -a -G dialout $(whoami)</code>, logging out, and logging back in again.</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Examples</h1>
<p >Several example programs come with the library. They are single-file Python programs that have names ending with <code>_example.py</code>.</p>
<p >You can run an example program by typing the path to the example. For example, if you are in the <code>motoron-rpi</code> directory, type <code>./i2c_simple_example.py</code> to run that example.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="autotoc_md8"></a>
I²C bus not found</h2>
<blockquote class="doxtable">
<p >&zwj;FileNotFoundError: [Errno 2] No such file or directory: '/dev/i2c-1' </p>
</blockquote>
<p>The error message above indicates that I&sup2;C bus 1 was not found. For most users, the solution is to run <code>sudo raspi-config nonint do_i2c 0</code> to enable I&sup2;C bus 1 and then reboot. You can see which I&sup2;C busses are enabled by running <code>ls /dev/i2c*</code>. If you have connected your Motoron to a different I&sup2;C bus, you should specify the bus number when creating the MotoronI2C object. For example: </p><pre class="fragment">mc = motoron.MotoronI2C(bus=123)
</pre> <h2><a class="anchor" id="autotoc_md9"></a>
Serial port permission denied</h2>
<blockquote class="doxtable">
<p >&zwj;serial.serialutil.SerialException: [Errno 13] could not open port /dev/serial0: [Errno 13] Permission denied: '/dev/serial0' </p>
</blockquote>
<p>The error message above indicates that your user does not have permission to access <code>/dev/serial0</code>. On a Raspberry Pi, you can fix this by running <code>sudo usermod -a -G dialout $(whoami)</code>, logging out, and logging back in again.</p>
<blockquote class="doxtable">
<p >&zwj;serial.serialutil.SerialException: could not open port 'COM8': PermissionError(13, 'Access is denied.', None, 5) </p>
</blockquote>
<p>The error message above occurs on Windows if another program is using the serial port you are trying to open.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Classes</h1>
<p >The main classes provided by this library are <a class="el" href="classmotoron_1_1_motoron_i2_c.html" title="Represents an I2C connection to a Pololu Motoron Motor Controller.">motoron.MotoronI2C</a> and <a class="el" href="classmotoron_1_1_motoron_serial.html" title="Represents a serial connection to a Pololu Motoron Motor Controller.">motoron.MotoronSerial</a>. Each of these is a subclass of <a class="el" href="classmotoron_1_1_motoron_base.html" title="Represents a connection to a Pololu Motoron Motoron Controller.">motoron.MotoronBase</a>.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Documentation</h1>
<p >For complete documentation of this library, see <a href="https://pololu.github.io/motoron-rpi/">the motoron-rpi documentation</a>. If you are already on that page, then click the links in the "Classes" section above.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
Command timeout</h1>
<p >By default, the Motoron will turn off its motors if it has not received a valid command in the last 1.5 seconds. You can change the amount of time it takes for the Motoron to time out using <a class="el" href="classmotoron_1_1_motoron_base.html#a6c13d18b37f4e6752108e00d55cb8a40" title="Sets the command timeout period, in milliseconds.">motoron.MotoronBase.set_command_timeout_milliseconds</a> or you can disable the feature using <a class="el" href="classmotoron_1_1_motoron_base.html#a569c0de965a8f042fcb4a828f0ecc6c9" title="This disables the Motoron&#39;s command timeout feature by resetting the the &quot;Error mask&quot; variable to its...">motoron.MotoronBase.disable_command_timeout</a>.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Version history</h1>
<ul>
<li>1.2.0 (2022-12-23): Added support for the <a href="https://www.pololu.com/product/5065">M2T256</a> and <a href="https://www.pololu.com/product/5067">M2U256</a> motorons.</li>
<li>1.1.0 (2022-08-05): Added support for the <a href="https://www.pololu.com/category/291">M2S</a> and <a href="https://www.pololu.com/category/293">M2H</a> Motorons.</li>
<li>1.0.0 (2022-05-13): Original release. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
